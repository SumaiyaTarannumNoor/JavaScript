<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Responsive Navbar with Drawer</title>
    <script src="https://cdn.tailwindcss.com"></script>
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.15.3/css/all.min.css">
    <link href="https://fonts.googleapis.com/css2?family=Roboto:wght@400;700&display=swap" rel="stylesheet">
    <!-- Bootstrap CSS -->
    <link href="https://stackpath.bootstrapcdn.com/bootstrap/4.5.2/css/bootstrap.min.css" rel="stylesheet">
    <!-- Bootstrap JS and dependencies (jQuery) -->
    <script src="https://code.jquery.com/jquery-3.5.1.slim.min.js"></script>
    <script src="https://cdn.jsdelivr.net/npm/@popperjs/core@2.5.3/dist/umd/popper.min.js"></script>
    <script src="https://stackpath.bootstrapcdn.com/bootstrap/4.5.2/js/bootstrap.min.js"></script>
    <script src="https://kit.fontawesome.com/a076d05399.js" crossorigin="anonymous"></script>
    <script src="https://www.youtube.com/iframe_api"></script>
    <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/toastify-js/src/toastify.min.css">
    <script src="https://cdn.jsdelivr.net/npm/toastify-js"></script>
    
    <style>
       .bg-brandPrimary {
            background-color: #832aff;
        }

        @keyframes wave {
            0% {
                transform: translateY(0);
            }

            50% {
                transform: translateY(-10px);
            }

            100% {
                transform: translateY(0);
            }
        }

        .wave-animation {
            animation: wave 2s infinite;
        }

        .text-brandSecondary {
            color: #2bafff;
        }

        .hover\:text-brandSecondary:hover {
            color: #2bafff;
        }

        .font-roboto {
            font-family: 'Roboto', sans-serif;
        }

        /* Updated CSS for Sticky Navbar */
        .sticky-navbar {
            position: sticky;
            top: 0;
            background-color: #ffffff;
            box-shadow: 0 2px 4px rgba(0, 0, 0, 0.2);
            z-index: 1000;
            /* Ensure it stays above other content */
            transition: background-color 0.3s ease, color 0.3s ease;
        }

        /* When scrolled, change background color and text color */
        .sticky-navbar.scrolled {
            /* background-color: #8a3ef5 !important; */
            background: #9D50BB;
            background: linear-gradient(
                to right,
                #9D50BB,#6E48AA
            );
            color: #FFFFFF !important;
        }
        /* Prevent logo jumping by keeping it same size */
        .sticky-navbar img {
            height: auto;
            width: 150px;
            /* Set a fixed width */
            transition: filter 0.3s ease;
        }

        .scrolled .nav-link,
        .scrolled #menu-btn i {
            color: #FFFFFF !important;
        }

        .scrolled .logo-img {
            filter: brightness(0) invert(1);
        }

        /* Drawer styles */
        .drawer {
            transition: transform 0.3s ease-in-out;
            transform: translateX(100%);
        }

        .drawer.open {
            transform: translateX(0%);
        }

        .transition {
            transition: all 0.3s ease-in-out;
        }

        /* Example CSS for Carousel */
        .carousel {
            position: relative;
        }

        .carousel-item {
            position: relative;
            display: none;
            transition: transform 3s ease;
        }

        .carousel-item.active {
            display: block;
            transform: translateX(0);
        }

        .carousel-control-prev,
        .carousel-control-next {
            position: absolute;
            top: 50%;
            transform: translateY(-50%);
            z-index: 1;
        }

        .carousel-control-prev {
            left: 10px;
        }

        .carousel-control-next {
            right: 10px;
        }

        .scroll-container {
            overflow-x: scroll;
            display: flex;
            scrollbar-width: none;
            /* Firefox */
        }

        .scroll-container::-webkit-scrollbar {
            display: none;
            /* Safari and Chrome */
        }

        /* Navbar links styles */
        .nav-link {
            transition: color 0.3s ease;
        }

        /* Drawer styles */
        .drawer {
            transition: transform 0.3s ease-in-out;
            transform: translateX(100%);
        }

        .drawer.open {
            transform: translateX(0%);
        }
        .custom-padding {
    padding-left: 60px;  /* Adjust as needed */
    padding-right: 60px; /* Adjust as needed */
}
/* .glow-on-hover {
    width: 220px;
    height: 50px;
    border: none;
    outline: none;
    color: #fff;
    background: #111;
    cursor: pointer;
    position: relative;
    z-index: 0;
    border-radius: 10px;
}

.glow-on-hover:before {
    content: '';
    background: linear-gradient(45deg, #ff0000, #ff7300, #fffb00, #48ff00, #00ffd5, #002bff, #7a00ff, #ff00c8, #ff0000);
    position: absolute;
    top: -2px;
    left:-2px;
    background-size: 400%;
    z-index: -1;
    filter: blur(5px);
    width: calc(100% + 4px);
    height: calc(100% + 4px);
    animation: glowing 20s linear infinite;
    opacity: 0;
    transition: opacity .3s ease-in-out;
    border-radius: 10px;
}

.glow-on-hover:active {
    color: #000
}

.glow-on-hover:active:after {
    background: transparent;
}

.glow-on-hover:hover:before {
    opacity: 1;
}

.glow-on-hover:after {
    z-index: -1;
    content: '';
    position: absolute;
    width: 100%;
    height: 100%;
    background: #111;
    left: 0;
    top: 0;
    border-radius: 10px;
}

@keyframes glowing {
    0% { background-position: 0 0; }
    50% { background-position: 400% 0; }
    100% { background-position: 0 0; }
} */


@import url(https://fonts.googleapis.com/css?family=Fira+Sans:400,300,700,500,400italic,500italic,700italic);
.combined-button {
            position: relative;
            width: 300px;
            height: 60px;
            border: none;
            outline: none;
            color: #fff;
            background: #111;
            cursor: pointer;
            z-index: 0;
            border-radius: 10px;
            font-family: 'Fira Sans', sans-serif;
            font-size: 16px;
            transition: all 0.3s;
        }

        .combined-button:before {
            content: '';
            background: linear-gradient(45deg, #ff0000, #ff7300, #fffb00, #48ff00, #00ffd5, #002bff, #7a00ff, #ff00c8, #ff0000);
            position: absolute;
            top: -2px;
            left:-2px;
            background-size: 400%;
            z-index: -1;
            filter: blur(5px);
            width: calc(100% + 4px);
            height: calc(100% + 4px);
            animation: glowing 20s linear infinite;
            opacity: 0;
            transition: opacity .3s ease-in-out;
            border-radius: 10px;
        }

        .combined-button:hover:before,
        .combined-button.bounce:before {
            opacity: 1;
        }

        .combined-button:after {
            z-index: -1;
            content: '';
            position: absolute;
            width: 100%;
            height: 100%;
            background: #111;
            left: 0;
            top: 0;
            border-radius: 10px;
        }

        .combined-button:hover,
        .combined-button.bounce {
            color: #c81bf3;
            background: white;
            box-shadow: 0px 17px 18px -14px rgba(0, 0, 0, 0.08);
        }

        .combined-button .button-spots {
            position: absolute;
            width: 100%;
            height: 100%;
            top: 0;
            left: 0;
            pointer-events: none;
        }

        .combined-button .button-spots span {
            position: absolute;
            width: 4px;
            height: 4px;
            border-radius: 50%;
            background-color: #00C4FF;
            opacity: 0;
            transition: all 0.5s;
        }

        .combined-button:hover .button-spots span,
        .combined-button.bounce .button-spots span {
            opacity: 1;
            animation: fizz 0.8s linear infinite;
        }

        @keyframes glowing {
            0% { background-position: 0 0; }
            50% { background-position: 400% 0; }
            100% { background-position: 0 0; }
        }

        @keyframes fizz {
            0% { transform: translateY(0) scale(1); }
            50% { transform: translateY(-10px) scale(1.2); }
            100% { transform: translateY(-20px) scale(0); }
        }

        @keyframes bounce {
            0%, 20%, 50%, 80%, 100% {transform: translateY(0);}
            40% {transform: translateY(-10px);}
            60% {transform: translateY(-5px);}
        }

        .bounce {
            animation: bounce 0.8s ease;
        }

        
        .stats-container {
    display: flex;
    justify-content: space-around; /* Evenly space items with equal gaps */
    align-items: center;
    margin-top: 24px;
    width: 100%;
    max-width: 44rem;
    margin-left: auto;
    margin-right: auto;
    padding: 0 16px;
}

.stat-item {
    display: flex;
    flex-direction: column;
    align-items: center;
    text-align: center; /* Ensure text aligns in the center */
}

.stat-label {
    font-weight: bold;
    color: #374151;
    font-size: 14px;
    margin-bottom: 12px; /* Proper spacing */
}

.circle, .circle2, .circle3 {
    width: 64px;
    height: 64px;
    border-radius: 50%;
    background: linear-gradient(to right, #434343, #000000);
    display: flex;
    align-items: center;
    justify-content: center;
    margin: 0 2px; /* Center the circle in its container */
}

.circle-text, .circle-text2, .circle-text3 {
    color: white;
    font-size: 18px;
    margin: 0;
    font-weight: bold; /* Makes text stand out */
}



        #drawer #searchInputMobile, .navbar #searchInput {
    max-width: 100%;
    font-size: 1rem;
}

@media (max-width: 700px) {
    .navbar #searchInput {
        display: none;
    }
}

@media (min-width: 701px) {
    #drawer #searchInputMobile {
        display: none;
    }
}



   /* Show only the first six lines */
    .content-clipped {
        display: -webkit-box;
        -webkit-box-orient: vertical;
        overflow: hidden;
        text-overflow: ellipsis;
        -webkit-line-clamp: 6; /* Show only the first 6 lines */
    }

    /* Expand content to show all lines */
    .content-expanded {
        -webkit-line-clamp: unset;
    }

    .youtube-overlay, .fullscreen-overlay {
    background: transparent;
    pointer-events: all;
    position: absolute;
    z-index: 50;
}
    </style>
</head>

<body class="min-h-screen bg-gradient-to-r from-[#E3FDF5] to-[#FFE6FA]">
    <!-- Top Bar -->
    <nav class="sticky top-0 bg-gradient-to-r from-[#9D50BB] to-[#6E48AA] shadow-md z-50">
        <div class="max-w-7xl mx-auto px-4">
            <div class="flex justify-between items-center h-20">
                <!-- Left Section: Logo and Search Bar -->
                <div class="flex items-center space-x-4 flex-1">
                    <!-- Logo Section -->
                    <a href="#" class="flex-shrink-0">
                        <img src="{{ url_for('static', filename='assets/logo/logo.png') }}" alt="Freelancing Patshala"
                            class="h-16 filter invert brightness-0">
                    </a>
    
                </div>
    
                <!-- Right Section: Profile Icon -->
                <div class="flex items-center">
                    <a id="profileIcon" class="flex items-center border-2 border-white rounded-full">
                        <img src="{{ url_for('static', filename='assets/profile_avatar/avatar.jpg') }}" alt="Profile"
                            class="w-12 h-12 sm:w-7 sm:h-7 md:w-8 md:h-8 lg:w-9 lg:h-9 xl:w-10 xl:h-10 border-2 border-white rounded-full object-cover">
                    </a>
                </div>
                
                
            </div>
        </div>
    </nav>


    <div id="drawer"
        class="fixed top-20 right-0 w-72 h-[calc(100vh-5rem)] bg-white shadow-lg transform translate-x-full transition-transform duration-300 ease-in-out flex flex-col bg-gradient-to-r from-[#E3FDF5] to-[#FFE6FA] z-[50]">
        <div class="flex-grow overflow-y-auto">
          <div class="flex flex-col md:flex-row items-center bg-gradient-to-r from-[#434343] to-[#000000]">
            <!-- Icons Container -->
            <div class="flex space-x-4 ml-12 mt-6 items-center">
                <a href="#" class="m-2 bg-gradient-to-r from-[#E3FDF5] to-[#FFE6FA] bg-clip-text text-transparent hover:text-[#ff69b4]" title="Home">
                    <i class="fas fa-home text-xl"></i>
                </a>
                <a href="#" class="m-2 bg-gradient-to-r from-[#E3FDF5] to-[#FFE6FA] bg-clip-text text-transparent hover:text-[#ff69b4]" title="Notifications">
                    <i class="fas fa-bell text-xl"></i>
                </a>
                <a href="#" class="m-2 bg-gradient-to-r from-[#E3FDF5] to-[#FFE6FA] bg-clip-text text-transparent hover:text-[#ff69b4]" title="Settings">
                    <i class="fas fa-cog text-xl"></i>
                </a>
                <a href="#" class="m-2 bg-gradient-to-r from-[#E3FDF5] to-[#FFE6FA] bg-clip-text text-transparent hover:text-[#ff69b4]" title="Language">
                    <span class="mr-1">EN</span>
                    <i class="fas fa-chevron-down"></i>
                </a>
            </div>
        </div>
        

           
            <div class="bg-gradient-to-r from-[#434343] to-[#000000] h-16 flex items-center justify-around px-4 top-20">
            </div>
            <!-- Profile drawer content -->
            <div class="bg-gradient-to-r from-[#E3FDF5] to-[#FFE6FA] px-3 py-2 flex flex-col justify-between">
                
                    <!-- <div class="flex justify-center -mt-10">
                        <img id="Profile_image"
                            src="{{ url_for('static', filename='assets/profile_avatar/avatar.jpg') }}" alt="Profile"
                            class="w-20 h-20 md:w-24 md:h-24 rounded-full border-4 border-white shadow-lg object-fill">
                    </div> -->
                    <div class="flex justify-center -mt-10">
                      <img id="Profile_image"
                          src="{{ url_for('static', filename='assets/profile_avatar/avatar.jpg') }}" alt="Profile"
                          class="w-20 h-20 md:w-24 md:h-24 rounded-full border-4 border-white shadow-lg object-fill">
                  </div>


                  <div class="text-center mt-2">
                      <h2 id="Profile_name" class="text-base font-semibold text-gray-800"></h2>
                      <p class="text-xxs text-gray-600 flex items-center justify-center mt-2 ml-3">
                          <!-- <span class="mr-4">From </span> -->
                          <i class="fas fa-map-marker-alt mr-4 text-[bg-gradient-to-r from-[#434343] to-[#000000]]"></i>
                          <span id="Profile_Address"></span>
                      </p>

                  </div>
                    <div class="flex justify-between mt-4 text-center">
                        <div class="stats-container">
                            <div class="stat-item">
                                <p class="stat-label">Total Courses</p>
                                <div class="circle">
                                    <p class="circle-text">Loading...</p>
                                </div>
                            </div>
                    
                            <div class="stat-item">
                                <p class="stat-label">Finished</p>
                                <div class="circle2 mt-4">
                                    <p class="circle-text2">Loading...</p>
                                </div>
                            </div>
                    
                            <div class="stat-item">
                                <p class="stat-label">Total Reviews</p>
                                <div class="circle3">
                                    <p class="circle-text3">10</p>
                                </div>
                            </div>
                        </div>
                  </div>
                  
                  
                    <ul class="ml-4 mt-4">
                      <li class="mb-4">
                          <a href="{{ url_for('Courses') }}" class="block py-2 pl-4 text-[bg-gradient-to-r from-[#434343] to-[#000000]] hover:text-[#ff69b4] font-bold">
                              <i class="fas fa-pen mr-2"></i>Your Reviews
                          </a>
                      </li>
                      <li class="mb-4">
                          <a href="{{ url_for('Courses') }}" class="block py-2 pl-4 text-[bg-gradient-to-r from-[#434343] to-[#000000]] hover:text-[#ff69b4] font-bold">
                              <i class="fas fa-star-half-alt mr-2"></i>Your Ratings
                          </a>
                      </li>
                      <li class="mb-4">
                          <a href="{{ url_for('Courses') }}" class="block py-2 pl-4 text-[bg-gradient-to-r from-[#434343] to-[#000000]] hover:text-[#ff69b4] font-bold">
                              <i class="fas fa-award mr-2"></i>Your Finished Courses
                          </a>
                      </li>
                  </ul>

            </div>
            <div class="flex space-x-1 px-3 bg-gradient-to-r from-[#E3FDF5] to-[#FFE6FA]">
              <div class="p-4 block"> <!-- Use 'block lg:hidden' -->
                  <ul>
                    <li class="mb-4">
                      <a href="{{ url_for('Profile_blog') }}" class="block py-2 pl-4 bg-gradient-to-r from-[#434343] to-[#000000] bg-clip-text text-transparent hover:text-[#ff69b4] font-bold active-link">
                          <i class="fas fa-pen-nib mr-2"></i>Enroll Into Courses
                      </a>
                  </li>
                  <li class="mb-4">
                      <a href="{{ url_for('Profile_blog_free_courses') }}" class="block py-2 pl-4 bg-gradient-to-r from-[#434343] to-[#000000] bg-clip-text text-transparent hover:text-[#ff69b4] font-bold">
                          <i class="fas fa-laptop-code mr-2"></i>Learn From Free Courses
                      </a>
                  </li>
                  <li class="mb-4">
                      <a href="{{ url_for('Profile_blog_bought_courses') }}" class="block py-2 pl-4 bg-gradient-to-r from-[#434343] to-[#000000] bg-clip-text text-transparent hover:text-[#ff69b4] font-bold">
                          <i class="fas fa-user-graduate mr-2"></i>Your Courses
                      </a>
                  </li>
                  
                  </ul>
              </div>
          </div>

        </div>

        <!-- Sticky logout button -->
        <div class="bg-gradient-to-r from-[#E3FDF5] to-[#FFE6FA]">
            <form action="{{ url_for('S_logout') }}" method="post">
                <button type="submit"
                    class="bg-gradient-to-r from-[#434343] to-[#000000] w-full text-white font-bold py-2 px-4 rounded-full shadow-lg transition-all duration-300 transform hover:scale-105 border-2 border-[#8a3ef5]">
                    Logout
                </button>
            </form>

            <div class="bg-gradient-to-r from-[#9D50BB] to-[#6E48AA] mx-auto max-w-md px-2 text-center text-white py-2 px-1 rounded-lg mt-2">
                    <p class="text-sm sm:text-base">&copy; 2024 Freelanching Pathshala. All rights reserved.</p>
                    <div class="mt-1">
                        <p class="text-xs sm:text-sm">Designed by <a
            window.location.reload();
        } else {
            throw new Error(data.message || 'Purchase failed');
        }
    } catch (error) {
        console.error('Error purchasing course:', error);
        alert('Failed to purchase course. Please try again.');
        return false;
    }
}

function showPurchaseModal() {
    const existingModal = document.querySelector('.modal-container');
    if (existingModal) {
        existingModal.remove();
    }

    const modal = document.createElement('div');
    modal.className = 'modal-container fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50';
    modal.innerHTML = `
        <div class="bg-white p-8 rounded-lg shadow-lg">
            <h2 class="text-2xl font-bold mb-4">Buy the Course</h2>
            <p class="mb-4">To watch more videos, please purchase the course.</p>
            <div class="flex justify-end gap-2">
                <button id="purchaseNow" class="bg-blue-500 text-white px-4 py-2 rounded-lg hover:bg-blue-600 transition-colors">Buy Now</button>
                <button id="closeModal" class="bg-gray-500 text-white px-4 py-2 rounded-lg hover:bg-gray-600 transition-colors ml-2">Close</button>
            </div>
        </div>
    `;
    
    document.body.appendChild(modal);

    document.getElementById('closeModal').addEventListener('click', () => modal.remove());
    document.getElementById('purchaseNow').addEventListener('click', async () => {
        const purchaseButton = document.getElementById('purchaseNow');
        purchaseButton.textContent = 'Processing...';
        purchaseButton.disabled = true;
        
        const success = await purchaseCourse();
        if (!success) {
            purchaseButton.textContent = 'Buy Now';
            purchaseButton.disabled = false;
        }
    });
}
